  module.exports = {
  name: 'pacman',
  description: 'Have fun with the classic game Pacman!',
  category: 'Games',
  run(client, message, args) {
    var pacmanposition, startdirection, Interval;
    var obj = new Object()
    const random = Math.floor(Math.random() * 2) + 1;
    if(random == 1) {
      pacmanposition = '<:pe:592382282472488980><:pacman_right:592110116333944842>'
      startdirection = 'right'
    } else if(random == 2) {
      pacmanposition = '<:pacman_left:592116633414402048><:pe:592382282472488980>'
      startdirection = 'left'
    }
    message.channel.send("Creating pacman map...").then(msg => msg.delete(9000))
    message.channel.send("<:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768>\n<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pf:592382304190726155><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pf:592382304190726155><:pw:592381142183968768>").then(msg1 => {
      message.channel.send("<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>").then(msg2 => {
        message.channel.send('<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>').then(msg3 => {
          message.channel.send(`<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768>\n<:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980>${pacmanposition}<:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pe:592382282472488980>`).then(msg4 => {
            message.channel.send('<:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pe:592382282472488980><:pe:592382282472488980><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768>\n<:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pw:592381142183968768>').then(msg5 => {
              message.channel.send('<:pw:592381142183968768><:pf:592382304190726155><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pf:592382304190726155><:pw:592381142183968768>\n<:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pn:592382326135193600><:pw:592381142183968768>\n<:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768><:pw:592381142183968768>').then(msg6 => {
                message.channel.send("Control Pacman here!").then(async m => {
                    await m.react("⏪")
                    await m.react("⏫")
                    await m.react("⏬")
                    await m.react("⏩")
                    await m.react("⏸") 
                    await m.react("⏹")
                    const collector = m.createReactionCollector((r, u) => u.id == message.author.id)
                    message.channel.send(`${message.author.tag}, your pacman's direction: \`${startdirection}\``).then(messagedirection => {
                      Interval = setInterval(() => {
                        var posx = obj[message.author.id].posx
                        var posy = obj[message.author.id].posy
                        if(startdirection == "right") {
                          obj[message.author.id].posx = posx + 1
                          if(obj[message.author.id].posy == 0 || obj[message.author.id].posy == 1 || obj[message.author.id].posy == 2) msg6.edit('')
                          if(obj[message.author.id].posy == 3 || obj[message.author.id].posy == 4 || obj[message.author.id].posy == 5) msg5.edit('')
                          if(obj[message.author.id].posy == 6 || obj[message.author.id].posy == 7 || obj[message.author.id].posy == 8) msg4.edit('')
                          if(obj[message.author.id].posy == 9 || obj[message.author.id].posy == 10 || obj[message.author.id].posy == 11) msg3.edit('')
                          if(obj[message.author.id].posy == 12 || obj[message.author.id].posy == 13 || obj[message.author.id].posy == 14) msg2.edit('')
                          if(obj[message.author.id].posy == 15 || obj[message.author.id].posy == 16 || obj[message.author.id].posy == 17) msg1.edit('')
                        } 
                        else if(startdirection == "left") {
                          obj[message.author.id].posx = posx - 1 
                          if(obj[message.author.id].posy == 0 || obj[message.author.id].posy == 1 || obj[message.author.id].posy == 2) msg6.edit('')
                          if(obj[message.author.id].posy == 3 || obj[message.author.id].posy == 4 || obj[message.author.id].posy == 5) msg5.edit('')
                          if(obj[message.author.id].posy == 6 || obj[message.author.id].posy == 7 || obj[message.author.id].posy == 8) msg4.edit('')
                          if(obj[message.author.id].posy == 9 || obj[message.author.id].posy == 10 || obj[message.author.id].posy == 11) msg3.edit('')
                          if(obj[message.author.id].posy == 12 || obj[message.author.id].posy == 13 || obj[message.author.id].posy == 14) msg2.edit('')
                          if(obj[message.author.id].posy == 15 || obj[message.author.id].posy == 16 || obj[message.author.id].posy == 17) msg1.edit('')
                        }
                      })
                      collector.on('collect', r => {
                        if(r.emoji.name == "⏹") {
                          msg1.delete()
                          msg2.delete()
                          msg3.delete()
                          msg4.delete()
                          msg5.delete()
                          msg6.delete()
                          m.delete()
                          messagedirection.delete()
                        } else if(r.emoji.name == "⏸") {
                          message.channel.send("Paused.")
                        } else if(r.emoji.name == "⏪") {
                          
                          messagedirection.edit(`${message.author.tag}, your pacman's direction: \`left\`.`)
                        } else if(r.emoji.name == "⏩") {
                                 var filter = messagedirection.reactions.users.filter(m => m !== client.user)
                        filter.clearReactions()
                          messagedirection.edit(`${message.author.tag}, your pacman's direction: \`right\`.`)
                        }
                      })
                    })
                  })
                })
              })
            })
          })
        })
      })
    }  
  }